(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function $(){}function de(t){return t()}function se(){return Object.create(null)}function z(t){t.forEach(de)}function _e(t){return typeof t=="function"}function be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function we(t){return Object.keys(t).length===0}function k(t,e){t.appendChild(e)}function Se(t,e,n){t.insertBefore(e,n||null)}function ge(t){t.parentNode.removeChild(t)}function D(t){return document.createElement(t)}function Ee(t){return document.createTextNode(t)}function G(){return Ee(" ")}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Pe(t){return Array.from(t.childNodes)}let L;function I(t){L=t}function Ae(){if(!L)throw new Error("Function called outside component initialization");return L}function Ce(t){Ae().$$.on_mount.push(t)}const N=[],j=[],q=[],ce=[],ke=Promise.resolve();let J=!1;function Oe(){J||(J=!0,ke.then(ye))}function W(t){q.push(t)}const Q=new Set;let U=0;function ye(){const t=L;do{for(;U<N.length;){const e=N[U];U++,I(e),Me(e.$$)}for(I(null),N.length=0,U=0;j.length;)j.pop()();for(let e=0;e<q.length;e+=1){const n=q[e];Q.has(n)||(Q.add(n),n())}q.length=0}while(N.length);for(;ce.length;)ce.pop()();J=!1,Q.clear(),I(t)}function Me(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const Te=new Set;function De(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function Ne(t,e,n,i){const{fragment:a,on_mount:o,on_destroy:c,after_update:g}=t.$$;a&&a.m(e,n),i||W(()=>{const s=o.map(de).filter(_e);c?c.push(...s):z(s),t.$$.on_mount=[]}),g.forEach(W)}function $e(t,e){const n=t.$$;n.fragment!==null&&(z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ie(t,e){t.$$.dirty[0]===-1&&(N.push(t),Oe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Le(t,e,n,i,a,o,c,g=[-1]){const s=L;I(t);const r=t.$$={fragment:null,ctx:null,props:o,update:$,not_equal:a,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:se(),dirty:g,skip_bound:!1,root:e.target||s.$$.root};c&&c(r.root);let l=!1;if(r.ctx=n?n(t,e.props||{},(u,d,...y)=>{const f=y.length?y[0]:d;return r.ctx&&a(r.ctx[u],r.ctx[u]=f)&&(!r.skip_bound&&r.bound[u]&&r.bound[u](f),l&&Ie(t,u)),d}):[],r.update(),l=!0,z(r.before_update),r.fragment=i?i(r.ctx):!1,e.target){if(e.hydrate){const u=Pe(e.target);r.fragment&&r.fragment.l(u),u.forEach(ge)}else r.fragment&&r.fragment.c();e.intro&&De(t.$$.fragment),Ne(t,e.target,e.anchor,e.customElement),ye()}I(s)}class Re{$destroy(){$e(this,1),this.$destroy=$}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}$set(e){this.$$set&&!we(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Z={exports:{}},he;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/he=function(){var t={},e={};return t.on=function(n,i){var a={name:n,handler:i};return e[n]=e[n]||[],e[n].unshift(a),a},t.off=function(n){var i=e[n.name].indexOf(n);i!==-1&&e[n.name].splice(i,1)},t.trigger=function(n,i){var a=e[n],o;if(a)for(o=a.length;o--;)a[o].handler(i)},t};var Ye=he,H={exports:{}},xe=function(e,n,i){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");typeof n=="function"&&(i=n,n={}),n=n||{},i=i||function(){},o.type=n.type||"text/javascript",o.charset=n.charset||"utf8",o.async="async"in n?!!n.async:!0,o.src=e,n.attrs&&Fe(o,n.attrs),n.text&&(o.text=""+n.text);var c="onload"in o?fe:Ue;c(o,i),o.onload||fe(o,i),a.appendChild(o)};function Fe(t,e){for(var n in e)t.setAttribute(n,e[n])}function fe(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function Ue(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=xe,i=a(n);function a(o){return o&&o.__esModule?o:{default:o}}e.default=function(o){var c=new Promise(function(g){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){g(window.YT);return}else{var s=window.location.protocol==="http:"?"http:":"https:";(0,i.default)(s+"//www.youtube.com/iframe_api",function(l){l&&o.trigger("error",l)})}var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),g(window.YT)}});return c},t.exports=e.default})(H,H.exports);var K={exports:{}},X={exports:{}},ee={exports:{}},R=1e3,V=R*60,Y=V*60,x=Y*24,Be=x*365.25,qe=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return je(t);if(n==="number"&&isNaN(t)===!1)return e.long?Ge(t):ze(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function je(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*Be;case"days":case"day":case"d":return n*x;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Y;case"minutes":case"minute":case"mins":case"min":case"m":return n*V;case"seconds":case"second":case"secs":case"sec":case"s":return n*R;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function ze(t){return t>=x?Math.round(t/x)+"d":t>=Y?Math.round(t/Y)+"h":t>=V?Math.round(t/V)+"m":t>=R?Math.round(t/R)+"s":t+"ms"}function Ge(t){return B(t,x,"day")||B(t,Y,"hour")||B(t,V,"minute")||B(t,R,"second")||t+" ms"}function B(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=a.debug=a.default=a,e.coerce=s,e.disable=c,e.enable=o,e.enabled=g,e.humanize=qe,e.names=[],e.skips=[],e.formatters={};var n;function i(r){var l=0,u;for(u in r)l=(l<<5)-l+r.charCodeAt(u),l|=0;return e.colors[Math.abs(l)%e.colors.length]}function a(r){function l(){if(!!l.enabled){var u=l,d=+new Date,y=d-(n||d);u.diff=y,u.prev=n,u.curr=d,n=d;for(var f=new Array(arguments.length),v=0;v<f.length;v++)f[v]=arguments[v];f[0]=e.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var h=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(p,b){if(p==="%%")return p;h++;var _=e.formatters[b];if(typeof _=="function"){var O=f[h];p=_.call(u,O),f.splice(h,1),h--}return p}),e.formatArgs.call(u,f);var m=l.log||e.log||console.log.bind(console);m.apply(u,f)}}return l.namespace=r,l.enabled=e.enabled(r),l.useColors=e.useColors(),l.color=i(r),typeof e.init=="function"&&e.init(l),l}function o(r){e.save(r),e.names=[],e.skips=[];for(var l=(typeof r=="string"?r:"").split(/[\s,]+/),u=l.length,d=0;d<u;d++)!l[d]||(r=l[d].replace(/\*/g,".*?"),r[0]==="-"?e.skips.push(new RegExp("^"+r.substr(1)+"$")):e.names.push(new RegExp("^"+r+"$")))}function c(){e.enable("")}function g(r){var l,u;for(l=0,u=e.skips.length;l<u;l++)if(e.skips[l].test(r))return!1;for(l=0,u=e.names.length;l<u;l++)if(e.names[l].test(r))return!0;return!1}function s(r){return r instanceof Error?r.stack||r.message:r}})(ee,ee.exports);(function(t,e){e=t.exports=ee.exports,e.log=a,e.formatArgs=i,e.save=o,e.load=c,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(s){try{return JSON.stringify(s)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function i(s){var r=this.useColors;if(s[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+s[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),!!r){var l="color: "+this.color;s.splice(1,0,l,"color: inherit");var u=0,d=0;s[0].replace(/%[a-zA-Z%]/g,function(y){y!=="%%"&&(u++,y==="%c"&&(d=u))}),s.splice(d,0,l)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(s){try{s==null?e.storage.removeItem("debug"):e.storage.debug=s}catch{}}function c(){var s;try{s=e.storage.debug}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=process.env.DEBUG),s}e.enable(c());function g(){try{return window.localStorage}catch{}}})(X,X.exports);var te={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(te,te.exports);var ne={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(ne,ne.exports);var re={exports:{}},oe={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(oe,oe.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=oe.exports,i=a(n);function a(o){return o&&o.__esModule?o:{default:o}}e.default={pauseVideo:{acceptableStates:[i.default.ENDED,i.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[i.default.ENDED,i.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[i.default.ENDED,i.default.PLAYING,i.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(re,re.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=X.exports,i=l(n),a=te.exports,o=l(a),c=ne.exports,g=l(c),s=re.exports,r=l(s);function l(y){return y&&y.__esModule?y:{default:y}}var u=(0,i.default)("youtube-player"),d={};d.proxyEvents=function(y){var f={},v=function(M){var S="on"+M.slice(0,1).toUpperCase()+M.slice(1);f[S]=function(A){u('event "%s"',S,A),y.trigger(M,A)}},h=!0,m=!1,p=void 0;try{for(var b=g.default[Symbol.iterator](),_;!(h=(_=b.next()).done);h=!0){var O=_.value;v(O)}}catch(F){m=!0,p=F}finally{try{!h&&b.return&&b.return()}finally{if(m)throw p}}return f},d.promisifyPlayer=function(y){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v={},h=function(S){f&&r.default[S]?v[S]=function(){for(var A=arguments.length,T=Array(A),E=0;E<A;E++)T[E]=arguments[E];return y.then(function(w){var C=r.default[S],ve=w.getPlayerState(),ae=w[S].apply(w,T);return C.stateChangeRequired||Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(ve)===-1?new Promise(function(ie){var pe=function ue(){var me=w.getPlayerState(),le=void 0;typeof C.timeout=="number"&&(le=setTimeout(function(){w.removeEventListener("onStateChange",ue),ie()},C.timeout)),Array.isArray(C.acceptableStates)&&C.acceptableStates.indexOf(me)!==-1&&(w.removeEventListener("onStateChange",ue),clearTimeout(le),ie())};w.addEventListener("onStateChange",pe)}).then(function(){return ae}):ae})}:v[S]=function(){for(var A=arguments.length,T=Array(A),E=0;E<A;E++)T[E]=arguments[E];return y.then(function(w){return w[S].apply(w,T)})}},m=!0,p=!1,b=void 0;try{for(var _=o.default[Symbol.iterator](),O;!(m=(O=_.next()).done);m=!0){var F=O.value;h(F)}}catch(M){p=!0,b=M}finally{try{!m&&_.return&&_.return()}finally{if(p)throw b}}return v},e.default=d,t.exports=e.default})(K,K.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i=Ye,a=r(i),o=H.exports,c=r(o),g=K.exports,s=r(g);function r(u){return u&&u.__esModule?u:{default:u}}var l=void 0;e.default=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,f=(0,a.default)();if(l||(l=(0,c.default)(f)),d.events)throw new Error("Event handlers cannot be overwritten.");if(typeof u=="string"&&!document.getElementById(u))throw new Error('Element "'+u+'" does not exist.');d.events=s.default.proxyEvents(f);var v=new Promise(function(m){if((typeof u>"u"?"undefined":n(u))==="object"&&u.playVideo instanceof Function){var p=u;m(p)}else l.then(function(b){var _=new b.Player(u,d);return f.on("ready",function(){m(_)}),null})}),h=s.default.promisifyPlayer(v,y);return h.on=f.on,h.off=f.off,h},t.exports=e.default})(Z,Z.exports);const Qe=Ve(Z.exports);function Je(t){let e,n,i,a,o,c,g,s;return{c(){e=D("main"),n=D("div"),i=G(),a=D("div"),o=G(),c=D("div"),g=G(),s=D("div"),P(n,"class","blocker svelte-bah2jr"),P(n,"id","top"),P(a,"class","blocker svelte-bah2jr"),P(a,"id","bot"),P(c,"class","blocker svelte-bah2jr"),P(c,"id","all"),P(s,"id","video-player"),P(s,"class","svelte-bah2jr"),P(e,"class","svelte-bah2jr")},m(r,l){Se(r,e,l),k(e,n),k(e,i),k(e,a),k(e,o),k(e,c),t[2](c),k(e,g),k(e,s),t[3](s)},p:$,i:$,o:$,d(r){r&&ge(e),t[2](null),t[3](null)}}}function We(t,e,n){let i,a,o;Ce(()=>{new WebSocket("ws://localhost:6979");const s=new URLSearchParams(location.search);i=Qe("video-player",{videoId:s.get("id"),playerVars:{controls:0,autoplay:1,modestlogo:1,end:0,rel:0}}),i.seekTo(0),i.width=window.innerWidth,i.height=window.innerHeight,i.on("ready",r=>{document.getElementsByTagName("iframe")[0]}),i.on("stateChange",r=>{r.data==1&&i.getDuration().then(l=>{n(1,o.style.display="none",o)}),r.data==0&&(console.log("ended."),n(1,o.style.display="block",o))})});function c(s){j[s?"unshift":"push"](()=>{o=s,n(1,o)})}function g(s){j[s?"unshift":"push"](()=>{a=s,n(0,a)})}return[a,o,c,g]}class Ze extends Re{constructor(e){super(),Le(this,e,We,Je,be,{})}}new Ze({target:document.getElementById("app")});
